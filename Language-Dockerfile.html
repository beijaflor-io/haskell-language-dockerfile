<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Language.Dockerfile</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Language-Dockerfile.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Language-Dockerfile.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">language-dockerfile-0.3.4.0: Dockerfile linter, parser, pretty-printer and embedded DSL</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Language.Dockerfile</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Parsing Dockerfiles (<code>Language.Dockerfile.Syntax</code> and <code>Language.Dockerfile.Parser</code>)</a></li><li><a href="#g:2">Pretty-printing Dockerfiles (<code>Language.Dockerfile.PrettyPrint</code>)</a></li><li><a href="#g:3">Writting Dockerfiles (<code>Language.Dockerfile.EDSL</code>)</a><ul><li><a href="#g:4">Constructing base images</a></li><li><a href="#g:5">Syntax</a></li><li><a href="#g:6">Support types for the EDSL</a></li></ul></li><li><a href="#g:7">QuasiQuoter (<code>Language.Dockerfile.EDSL.Quasi</code>)</a></li><li><a href="#g:8">Types (<code>Language.Dockerfile.Syntax</code>)</a></li><li><a href="#g:9">Re-exports from <code>parsec</code></a></li><li><a href="#g:10">Instruction and InstructionPos helpers</a></li></ul></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Dockerfile">Dockerfile</a> = [<a href="Language-Dockerfile.html#t:InstructionPos">InstructionPos</a>]</li><li class="src short"><a href="#v:parseString">parseString</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> <a href="Language-Dockerfile.html#t:ParseError">ParseError</a> <a href="Language-Dockerfile.html#t:Dockerfile">Dockerfile</a></li><li class="src short"><a href="#v:parseFile">parseFile</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> <a href="Language-Dockerfile.html#t:ParseError">ParseError</a> <a href="Language-Dockerfile.html#t:Dockerfile">Dockerfile</a>)</li><li class="src short"><a href="#v:prettyPrint">prettyPrint</a> :: <a href="Language-Dockerfile.html#t:Dockerfile">Dockerfile</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:prettyPrintInstructionPos">prettyPrintInstructionPos</a> :: <a href="Language-Dockerfile.html#t:InstructionPos">InstructionPos</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:toDockerfileStr">toDockerfileStr</a> :: <a href="Language-Dockerfile.html#t:EDockerfileM">EDockerfileM</a> a -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:toDockerfile">toDockerfile</a> :: <a href="Language-Dockerfile.html#t:EDockerfileM">EDockerfileM</a> a -&gt; <a href="Language-Dockerfile.html#t:Dockerfile">Dockerfile</a></li><li class="src short"><a href="#v:toDockerfileStrIO">toDockerfileStrIO</a> :: <a href="../transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Language-Dockerfile.html#t:EDockerfileTM">EDockerfileTM</a> m t -&gt; m <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:toDockerfileIO">toDockerfileIO</a> :: <a href="../transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Language-Dockerfile.html#t:EDockerfileTM">EDockerfileTM</a> m t -&gt; m <a href="Language-Dockerfile.html#t:Dockerfile">Dockerfile</a></li><li class="src short"><a href="#v:runDockerfileIO">runDockerfileIO</a> :: <a href="../transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Language-Dockerfile.html#t:EDockerfileTM">EDockerfileTM</a> m t -&gt; m (t, <a href="Language-Dockerfile.html#t:Dockerfile">Dockerfile</a>)</li><li class="src short"><a href="#v:runDockerfileStrIO">runDockerfileStrIO</a> :: <a href="../transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Language-Dockerfile.html#t:EDockerfileTM">EDockerfileTM</a> m t -&gt; m (t, <a href="../base-4.8.2.0/Data-String.html#t:String">String</a>)</li><li class="src short"><a href="#v:liftIO">liftIO</a> :: <a href="../transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <span class="keyword">forall</span> a. <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a -&gt; m a</li><li class="src short"><a href="#v:from">from</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:EBaseImage">EBaseImage</a> -&gt; m ()</li><li class="src short"><a href="#v:tagged">tagged</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Dockerfile.html#t:EBaseImage">EBaseImage</a></li><li class="src short"><a href="#v:untagged">untagged</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Dockerfile.html#t:EBaseImage">EBaseImage</a></li><li class="src short"><a href="#v:digested">digested</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Language-Dockerfile.html#t:EBaseImage">EBaseImage</a></li><li class="src short"><a href="#v:add">add</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Source">Source</a> -&gt; <a href="Language-Dockerfile.html#t:Destination">Destination</a> -&gt; m ()</li><li class="src short"><a href="#v:user">user</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:label">label</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Pairs">Pairs</a> -&gt; m ()</li><li class="src short"><a href="#v:stopSignal">stopSignal</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:copy">copy</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Source">Source</a> -&gt; <a href="Language-Dockerfile.html#t:Destination">Destination</a> -&gt; m ()</li><li class="src short"><a href="#v:run">run</a> :: <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:runArgs">runArgs</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Arguments">Arguments</a> -&gt; m ()</li><li class="src short"><a href="#v:cmd">cmd</a> :: <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:cmdArgs">cmdArgs</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Arguments">Arguments</a> -&gt; m ()</li><li class="src short"><a href="#v:workdir">workdir</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Directory">Directory</a> -&gt; m ()</li><li class="src short"><a href="#v:expose">expose</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Ports">Ports</a> -&gt; m ()</li><li class="src short"><a href="#v:ports">ports</a> :: [<a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a>] -&gt; <a href="Language-Dockerfile.html#t:Ports">Ports</a></li><li class="src short"><a href="#v:port">port</a> :: <a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="Language-Dockerfile.html#t:Ports">Ports</a></li><li class="src short"><a href="#v:volume">volume</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:entrypoint">entrypoint</a> :: <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:entrypointArgs">entrypointArgs</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Arguments">Arguments</a> -&gt; m ()</li><li class="src short"><a href="#v:maintainer">maintainer</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:env">env</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Pairs">Pairs</a> -&gt; m ()</li><li class="src short"><a href="#v:arg">arg</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:comment">comment</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:onBuild">onBuild</a> :: <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:EDockerfileM">EDockerfileM</a> a -&gt; m ()</li><li class="src short"><a href="#v:onBuildRaw">onBuildRaw</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Instruction">Instruction</a> -&gt; m ()</li><li class="src short"><a href="#v:embed">embed</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; [<a href="Language-Dockerfile.html#t:InstructionPos">InstructionPos</a>] -&gt; m ()</li><li class="src short"><a href="#v:edockerfile">edockerfile</a> :: <a href="../template-haskell-2.10.0.0/Language-Haskell-TH-Quote.html#t:QuasiQuoter">QuasiQuoter</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:EDockerfileM">EDockerfileM</a> = <a href="../free-4.12.1/Control-Monad-Free.html#t:Free">Free</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:EDockerfileTM">EDockerfileTM</a> = <a href="../free-4.12.1/Control-Monad-Trans-Free.html#t:FreeT">FreeT</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:EBaseImage">EBaseImage</a><ul class="subs"><li>= <a href="#v:EUntaggedImage">EUntaggedImage</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li>| <a href="#v:ETaggedImage">ETaggedImage</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li>| <a href="#v:EDigestedImage">EDigestedImage</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> <a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a></li></ul></li><li class="src short"><a href="#v:dockerfile">dockerfile</a> :: <a href="../template-haskell-2.10.0.0/Language-Haskell-TH-Quote.html#t:QuasiQuoter">QuasiQuoter</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Instruction">Instruction</a><ul class="subs"><li>= <a href="#v:From">From</a> <a href="Language-Dockerfile.html#t:BaseImage">BaseImage</a></li><li>| <a href="#v:Add">Add</a> <a href="Language-Dockerfile.html#t:Source">Source</a> <a href="Language-Dockerfile.html#t:Destination">Destination</a></li><li>| <a href="#v:User">User</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li>| <a href="#v:Label">Label</a> <a href="Language-Dockerfile.html#t:Pairs">Pairs</a></li><li>| <a href="#v:Stopsignal">Stopsignal</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li>| <a href="#v:Copy">Copy</a> <a href="Language-Dockerfile.html#t:Source">Source</a> <a href="Language-Dockerfile.html#t:Destination">Destination</a></li><li>| <a href="#v:Run">Run</a> <a href="Language-Dockerfile.html#t:Arguments">Arguments</a></li><li>| <a href="#v:Cmd">Cmd</a> <a href="Language-Dockerfile.html#t:Arguments">Arguments</a></li><li>| <a href="#v:Workdir">Workdir</a> <a href="Language-Dockerfile.html#t:Directory">Directory</a></li><li>| <a href="#v:Expose">Expose</a> <a href="Language-Dockerfile.html#t:Ports">Ports</a></li><li>| <a href="#v:Volume">Volume</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li>| <a href="#v:Entrypoint">Entrypoint</a> <a href="Language-Dockerfile.html#t:Arguments">Arguments</a></li><li>| <a href="#v:Maintainer">Maintainer</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li>| <a href="#v:Env">Env</a> <a href="Language-Dockerfile.html#t:Pairs">Pairs</a></li><li>| <a href="#v:Arg">Arg</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li>| <a href="#v:Comment">Comment</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li>| <a href="#v:OnBuild">OnBuild</a> <a href="Language-Dockerfile.html#t:Instruction">Instruction</a></li><li>| <a href="#v:EOL">EOL</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:InstructionPos">InstructionPos</a> = <a href="#v:InstructionPos">InstructionPos</a> <a href="Language-Dockerfile.html#t:Instruction">Instruction</a> <a href="Language-Dockerfile.html#t:Filename">Filename</a> <a href="Language-Dockerfile.html#t:Linenumber">Linenumber</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:BaseImage">BaseImage</a><ul class="subs"><li>= <a href="#v:UntaggedImage">UntaggedImage</a> <a href="Language-Dockerfile.html#t:Image">Image</a></li><li>| <a href="#v:TaggedImage">TaggedImage</a> <a href="Language-Dockerfile.html#t:Image">Image</a> <a href="Language-Dockerfile.html#t:Tag">Tag</a></li><li>| <a href="#v:DigestedImage">DigestedImage</a> <a href="Language-Dockerfile.html#t:Image">Image</a> <a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:Image">Image</a> = <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Tag">Tag</a> = <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Ports">Ports</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Directory">Directory</a> = <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Source">Source</a> = <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Destination">Destination</a> = <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Arguments">Arguments</a> = [<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>]</li><li class="src short"><span class="keyword">type</span> <a href="#t:Pairs">Pairs</a> = [(<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>, <a href="../base-4.8.2.0/Data-String.html#t:String">String</a>)]</li><li class="src short"><span class="keyword">type</span> <a href="#t:Filename">Filename</a> = <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Linenumber">Linenumber</a> = <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ParseError">ParseError</a> :: *</li><li class="src short"><a href="#v:instruction">instruction</a> :: <a href="Language-Dockerfile.html#t:InstructionPos">InstructionPos</a> -&gt; <a href="Language-Dockerfile.html#t:Instruction">Instruction</a></li><li class="src short"><a href="#v:instructionPos">instructionPos</a> :: <a href="Language-Dockerfile.html#t:Instruction">Instruction</a> -&gt; <a href="Language-Dockerfile.html#t:InstructionPos">InstructionPos</a></li><li class="src short"><a href="#v:sourcename">sourcename</a> :: <a href="Language-Dockerfile.html#t:InstructionPos">InstructionPos</a> -&gt; <a href="Language-Dockerfile.html#t:Filename">Filename</a></li></ul></div><div id="interface"><h1 id="g:1">Parsing Dockerfiles (<code>Language.Dockerfile.Syntax</code> and <code>Language.Dockerfile.Parser</code>)</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Dockerfile" class="def">Dockerfile</a> = [<a href="Language-Dockerfile.html#t:InstructionPos">InstructionPos</a>] <a href="src/Language-Dockerfile-Syntax.html#Dockerfile" class="link">Source</a></p><div class="doc"><p>Type of the Dockerfile AST</p></div></div><div class="top"><p class="src"><a name="v:parseString" class="def">parseString</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> <a href="Language-Dockerfile.html#t:ParseError">ParseError</a> <a href="Language-Dockerfile.html#t:Dockerfile">Dockerfile</a> <a href="src/Language-Dockerfile-Parser.html#parseString" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:parseFile" class="def">parseFile</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> <a href="Language-Dockerfile.html#t:ParseError">ParseError</a> <a href="Language-Dockerfile.html#t:Dockerfile">Dockerfile</a>) <a href="src/Language-Dockerfile-Parser.html#parseFile" class="link">Source</a></p></div><h1 id="g:2">Pretty-printing Dockerfiles (<code>Language.Dockerfile.PrettyPrint</code>)</h1><div class="top"><p class="src"><a name="v:prettyPrint" class="def">prettyPrint</a> :: <a href="Language-Dockerfile.html#t:Dockerfile">Dockerfile</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> <a href="src/Language-Dockerfile-PrettyPrint.html#prettyPrint" class="link">Source</a></p><div class="doc"><p>Pretty print a <code><a href="Language-Dockerfile.html#t:Dockerfile">Dockerfile</a></code> to a <code><a href="../base-4.8.2.0/Data-String.html#t:String">String</a></code></p></div></div><div class="top"><p class="src"><a name="v:prettyPrintInstructionPos" class="def">prettyPrintInstructionPos</a> :: <a href="Language-Dockerfile.html#t:InstructionPos">InstructionPos</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> <a href="src/Language-Dockerfile-PrettyPrint.html#prettyPrintInstructionPos" class="link">Source</a></p><div class="doc"><p>Pretty print a <code><a href="Language-Dockerfile.html#t:InstructionPos">InstructionPos</a></code> to a <code><a href="../base-4.8.2.0/Data-String.html#t:String">String</a></code></p></div></div><h1 id="g:3">Writting Dockerfiles (<code>Language.Dockerfile.EDSL</code>)</h1><div class="top"><p class="src"><a name="v:toDockerfileStr" class="def">toDockerfileStr</a> :: <a href="Language-Dockerfile.html#t:EDockerfileM">EDockerfileM</a> a -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> <a href="src/Language-Dockerfile-EDSL.html#toDockerfileStr" class="link">Source</a></p><div class="doc"><p>runs the Dockerfile EDSL and returns a <code><a href="../base-4.8.2.0/Data-String.html#t:String">String</a></code> using
 <code><a href="Language-Dockerfile.html#v:PrettyPrint">PrettyPrint</a></code></p><pre>import           Language.Dockerfile

main :: IO ()
main = writeFile &quot;something.dockerfile&quot; $ toDockerfileStr $ do
    from (tagged &quot;fpco/stack-build&quot; &quot;lts-6.9&quot;)
    add &quot;.&quot; &quot;<em>app</em>language-dockerfile&quot;
    workdir &quot;<em>app</em>language-dockerfile&quot;
    run (words &quot;stack build --test --only-dependencies&quot;)
    cmd (words &quot;stack test&quot;)
</pre></div></div><div class="top"><p class="src"><a name="v:toDockerfile" class="def">toDockerfile</a> :: <a href="Language-Dockerfile.html#t:EDockerfileM">EDockerfileM</a> a -&gt; <a href="Language-Dockerfile.html#t:Dockerfile">Dockerfile</a> <a href="src/Language-Dockerfile-EDSL.html#toDockerfile" class="link">Source</a></p><div class="doc"><p>Runs the Dockerfile EDSL and returns a <code>Dockerfile</code> you can pretty print
 or manipulate</p></div></div><div class="top"><p class="src"><a name="v:toDockerfileStrIO" class="def">toDockerfileStrIO</a> :: <a href="../transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Language-Dockerfile.html#t:EDockerfileTM">EDockerfileTM</a> m t -&gt; m <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> <a href="src/Language-Dockerfile-EDSL.html#toDockerfileStrIO" class="link">Source</a></p><div class="doc"><p>A version of <code><a href="Language-Dockerfile.html#v:toDockerfileStr">toDockerfileStr</a></code> which allows IO actions</p></div></div><div class="top"><p class="src"><a name="v:toDockerfileIO" class="def">toDockerfileIO</a> :: <a href="../transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Language-Dockerfile.html#t:EDockerfileTM">EDockerfileTM</a> m t -&gt; m <a href="Language-Dockerfile.html#t:Dockerfile">Dockerfile</a> <a href="src/Language-Dockerfile-EDSL.html#toDockerfileIO" class="link">Source</a></p><div class="doc"><p>A version of <code><a href="Language-Dockerfile.html#v:toDockerfile">toDockerfile</a></code> which allows IO actions</p></div></div><div class="top"><p class="src"><a name="v:runDockerfileIO" class="def">runDockerfileIO</a> :: <a href="../transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Language-Dockerfile.html#t:EDockerfileTM">EDockerfileTM</a> m t -&gt; m (t, <a href="Language-Dockerfile.html#t:Dockerfile">Dockerfile</a>) <a href="src/Language-Dockerfile-EDSL.html#runDockerfileIO" class="link">Source</a></p><div class="doc"><p>Just runs the EDSL's writer monad</p></div></div><div class="top"><p class="src"><a name="v:runDockerfileStrIO" class="def">runDockerfileStrIO</a> :: <a href="../transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Language-Dockerfile.html#t:EDockerfileTM">EDockerfileTM</a> m t -&gt; m (t, <a href="../base-4.8.2.0/Data-String.html#t:String">String</a>) <a href="src/Language-Dockerfile-EDSL.html#runDockerfileStrIO" class="link">Source</a></p><div class="doc"><p>Runs the EDSL's writer monad and pretty-prints the result</p></div></div><div class="top"><p class="src"><a name="v:liftIO" class="def">liftIO</a> :: <a href="../transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <span class="keyword">forall</span> a. <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a -&gt; m a</p><div class="doc"><p>Lift a computation from the <code><a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a></code> monad.</p></div></div><div class="top"><p class="src"><a name="v:from" class="def">from</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:EBaseImage">EBaseImage</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#from" class="link">Source</a></p></div><h2 id="g:4">Constructing base images</h2><div class="top"><p class="src"><a name="v:tagged" class="def">tagged</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Dockerfile.html#t:EBaseImage">EBaseImage</a> <a href="src/Language-Dockerfile-EDSL.html#tagged" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:untagged" class="def">untagged</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Dockerfile.html#t:EBaseImage">EBaseImage</a> <a href="src/Language-Dockerfile-EDSL.html#untagged" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:digested" class="def">digested</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Language-Dockerfile.html#t:EBaseImage">EBaseImage</a> <a href="src/Language-Dockerfile-EDSL.html#digested" class="link">Source</a></p></div><h2 id="g:5">Syntax</h2><div class="top"><p class="src"><a name="v:add" class="def">add</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Source">Source</a> -&gt; <a href="Language-Dockerfile.html#t:Destination">Destination</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#add" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:user" class="def">user</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#user" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:label" class="def">label</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Pairs">Pairs</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#label" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:stopSignal" class="def">stopSignal</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#stopSignal" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:copy" class="def">copy</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Source">Source</a> -&gt; <a href="Language-Dockerfile.html#t:Destination">Destination</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#copy" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:run" class="def">run</a> :: <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#run" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:runArgs" class="def">runArgs</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Arguments">Arguments</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#runArgs" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:cmd" class="def">cmd</a> :: <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#cmd" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:cmdArgs" class="def">cmdArgs</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Arguments">Arguments</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#cmdArgs" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:workdir" class="def">workdir</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Directory">Directory</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#workdir" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:expose" class="def">expose</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Ports">Ports</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#expose" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:ports" class="def">ports</a> :: [<a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a>] -&gt; <a href="Language-Dockerfile.html#t:Ports">Ports</a> <a href="src/Language-Dockerfile-EDSL.html#ports" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:port" class="def">port</a> :: <a href="../base-4.8.2.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="Language-Dockerfile.html#t:Ports">Ports</a> <a href="src/Language-Dockerfile-EDSL.html#port" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:volume" class="def">volume</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#volume" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:entrypoint" class="def">entrypoint</a> :: <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#entrypoint" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:entrypointArgs" class="def">entrypointArgs</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Arguments">Arguments</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#entrypointArgs" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:maintainer" class="def">maintainer</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#maintainer" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:env" class="def">env</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Pairs">Pairs</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#env" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:arg" class="def">arg</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#arg" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:comment" class="def">comment</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#comment" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:onBuild" class="def">onBuild</a> :: <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:EDockerfileM">EDockerfileM</a> a -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#onBuild" class="link">Source</a></p><div class="doc"><p>ONBUILD Dockerfile instruction</p><p>Each nested instruction gets emitted as a separate <code>ONBUILD</code> block</p><pre><code><a href="Language-Dockerfile.html#v:toDockerfile">toDockerfile</a></code> $ do
    from &quot;node&quot;
    run &quot;apt-get update&quot;
    onBuild $ do
        run &quot;echo more-stuff&quot;
        run &quot;echo here&quot;
</pre></div></div><div class="top"><p class="src"><a name="v:onBuildRaw" class="def">onBuildRaw</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile.html#t:Instruction">Instruction</a> -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#onBuildRaw" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:embed" class="def">embed</a> :: <span class="keyword">forall</span> m. <a href="../free-4.12.1/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; [<a href="Language-Dockerfile.html#t:InstructionPos">InstructionPos</a>] -&gt; m () <a href="src/Language-Dockerfile-EDSL.html#embed" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:edockerfile" class="def">edockerfile</a> :: <a href="../template-haskell-2.10.0.0/Language-Haskell-TH-Quote.html#t:QuasiQuoter">QuasiQuoter</a> <a href="src/Language-Dockerfile-EDSL-Quasi.html#edockerfile" class="link">Source</a></p><div class="doc"><p>Quasiquoter for embedding dockerfiles on the EDSL</p><pre>putStr $ <code><a href="Language-Dockerfile.html#v:toDockerfile">toDockerfile</a></code> $ do
    from &quot;node&quot;
    run &quot;apt-get update&quot;
    [edockerfile|
    RUN apt-get update
    CMD node something.js
    |]
</pre></div></div><h2 id="g:6">Support types for the EDSL</h2><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:EDockerfileM" class="def">EDockerfileM</a> = <a href="../free-4.12.1/Control-Monad-Free.html#t:Free">Free</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> <a href="src/Language-Dockerfile-EDSL.html#EDockerfileM" class="link">Source</a></p><div class="doc"><p>The type of <code>Identity</code> based EDSL blocks</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:EDockerfileTM" class="def">EDockerfileTM</a> = <a href="../free-4.12.1/Control-Monad-Trans-Free.html#t:FreeT">FreeT</a> <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> <a href="src/Language-Dockerfile-EDSL.html#EDockerfileTM" class="link">Source</a></p><div class="doc"><p>The type of free monad EDSL blocks</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:EBaseImage" class="def">EBaseImage</a> <a href="src/Language-Dockerfile-EDSL-Types.html#EBaseImage" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:EUntaggedImage" class="def">EUntaggedImage</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ETaggedImage" class="def">ETaggedImage</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:EDigestedImage" class="def">EDigestedImage</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> <a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:EBaseImage" class="caption collapser" onclick="toggleSection('i:EBaseImage')">Instances</p><div id="section.i:EBaseImage" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Language-Dockerfile.html#t:EBaseImage">EBaseImage</a></span> <a href="src/Language-Dockerfile-EDSL-Types.html#line-12" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> <a href="Language-Dockerfile.html#t:EBaseImage">EBaseImage</a></span> <a href="src/Language-Dockerfile-EDSL-Types.html#line-12" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Language-Dockerfile.html#t:EBaseImage">EBaseImage</a></span> <a href="src/Language-Dockerfile-EDSL-Types.html#line-12" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-String.html#t:IsString">IsString</a> <a href="Language-Dockerfile.html#t:EBaseImage">EBaseImage</a></span> <a href="src/Language-Dockerfile-EDSL-Types.html#line-14" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:7">QuasiQuoter (<code>Language.Dockerfile.EDSL.Quasi</code>)</h1><div class="top"><p class="src"><a name="v:dockerfile" class="def">dockerfile</a> :: <a href="../template-haskell-2.10.0.0/Language-Haskell-TH-Quote.html#t:QuasiQuoter">QuasiQuoter</a> <a href="src/Language-Dockerfile-EDSL-Quasi.html#dockerfile" class="link">Source</a></p></div><h1 id="g:8">Types (<code>Language.Dockerfile.Syntax</code>)</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Instruction" class="def">Instruction</a> <a href="src/Language-Dockerfile-Syntax.html#Instruction" class="link">Source</a></p><div class="doc"><p>All commands available in Dockerfiles</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:From" class="def">From</a> <a href="Language-Dockerfile.html#t:BaseImage">BaseImage</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Add" class="def">Add</a> <a href="Language-Dockerfile.html#t:Source">Source</a> <a href="Language-Dockerfile.html#t:Destination">Destination</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:User" class="def">User</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Label" class="def">Label</a> <a href="Language-Dockerfile.html#t:Pairs">Pairs</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Stopsignal" class="def">Stopsignal</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Copy" class="def">Copy</a> <a href="Language-Dockerfile.html#t:Source">Source</a> <a href="Language-Dockerfile.html#t:Destination">Destination</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Run" class="def">Run</a> <a href="Language-Dockerfile.html#t:Arguments">Arguments</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Cmd" class="def">Cmd</a> <a href="Language-Dockerfile.html#t:Arguments">Arguments</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Workdir" class="def">Workdir</a> <a href="Language-Dockerfile.html#t:Directory">Directory</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Expose" class="def">Expose</a> <a href="Language-Dockerfile.html#t:Ports">Ports</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Volume" class="def">Volume</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Entrypoint" class="def">Entrypoint</a> <a href="Language-Dockerfile.html#t:Arguments">Arguments</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Maintainer" class="def">Maintainer</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Env" class="def">Env</a> <a href="Language-Dockerfile.html#t:Pairs">Pairs</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Arg" class="def">Arg</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Comment" class="def">Comment</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:OnBuild" class="def">OnBuild</a> <a href="Language-Dockerfile.html#t:Instruction">Instruction</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:EOL" class="def">EOL</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Instruction" class="caption collapser" onclick="toggleSection('i:Instruction')">Instances</p><div id="section.i:Instruction" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Language-Dockerfile.html#t:Instruction">Instruction</a></span> <a href="src/Language-Dockerfile-Syntax.html#line-60" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> <a href="Language-Dockerfile.html#t:Instruction">Instruction</a></span> <a href="src/Language-Dockerfile-Syntax.html#line-60" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Language-Dockerfile.html#t:Instruction">Instruction</a></span> <a href="src/Language-Dockerfile-Syntax.html#line-60" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:InstructionPos" class="def">InstructionPos</a> <a href="src/Language-Dockerfile-Syntax.html#InstructionPos" class="link">Source</a></p><div class="doc"><p><code><a href="Language-Dockerfile.html#t:Instruction">Instruction</a></code> with additional location information required for creating
 good check messages</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:InstructionPos" class="def">InstructionPos</a> <a href="Language-Dockerfile.html#t:Instruction">Instruction</a> <a href="Language-Dockerfile.html#t:Filename">Filename</a> <a href="Language-Dockerfile.html#t:Linenumber">Linenumber</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:InstructionPos" class="caption collapser" onclick="toggleSection('i:InstructionPos')">Instances</p><div id="section.i:InstructionPos" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Language-Dockerfile.html#t:InstructionPos">InstructionPos</a></span> <a href="src/Language-Dockerfile-Syntax.html#line-69" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> <a href="Language-Dockerfile.html#t:InstructionPos">InstructionPos</a></span> <a href="src/Language-Dockerfile-Syntax.html#line-69" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Language-Dockerfile.html#t:InstructionPos">InstructionPos</a></span> <a href="src/Language-Dockerfile-Syntax.html#line-69" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:BaseImage" class="def">BaseImage</a> <a href="src/Language-Dockerfile-Syntax.html#BaseImage" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:UntaggedImage" class="def">UntaggedImage</a> <a href="Language-Dockerfile.html#t:Image">Image</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:TaggedImage" class="def">TaggedImage</a> <a href="Language-Dockerfile.html#t:Image">Image</a> <a href="Language-Dockerfile.html#t:Tag">Tag</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:DigestedImage" class="def">DigestedImage</a> <a href="Language-Dockerfile.html#t:Image">Image</a> <a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:BaseImage" class="caption collapser" onclick="toggleSection('i:BaseImage')">Instances</p><div id="section.i:BaseImage" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Language-Dockerfile.html#t:BaseImage">BaseImage</a></span> <a href="src/Language-Dockerfile-Syntax.html#line-31" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> <a href="Language-Dockerfile.html#t:BaseImage">BaseImage</a></span> <a href="src/Language-Dockerfile-Syntax.html#line-31" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Language-Dockerfile.html#t:BaseImage">BaseImage</a></span> <a href="src/Language-Dockerfile-Syntax.html#line-31" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Image" class="def">Image</a> = <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> <a href="src/Language-Dockerfile-Syntax.html#Image" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Tag" class="def">Tag</a> = <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> <a href="src/Language-Dockerfile-Syntax.html#Tag" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Ports" class="def">Ports</a> <a href="src/Language-Dockerfile-Syntax.html#Ports" class="link">Source</a></p><div class="subs instances"><p id="control.i:Ports" class="caption collapser" onclick="toggleSection('i:Ports')">Instances</p><div id="section.i:Ports" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Language-Dockerfile.html#t:Ports">Ports</a></span> <a href="src/Language-Dockerfile-Syntax.html#line-13" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> <a href="Language-Dockerfile.html#t:Ports">Ports</a></span> <a href="src/Language-Dockerfile-Syntax.html#line-13" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Language-Dockerfile.html#t:Ports">Ports</a></span> <a href="src/Language-Dockerfile-Syntax.html#line-13" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-String.html#t:IsString">IsString</a> <a href="Language-Dockerfile.html#t:Ports">Ports</a></span> <a href="src/Language-Dockerfile-Syntax.html#line-15" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Directory" class="def">Directory</a> = <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> <a href="src/Language-Dockerfile-Syntax.html#Directory" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Source" class="def">Source</a> = <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> <a href="src/Language-Dockerfile-Syntax.html#Source" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Destination" class="def">Destination</a> = <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> <a href="src/Language-Dockerfile-Syntax.html#Destination" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Arguments" class="def">Arguments</a> = [<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>] <a href="src/Language-Dockerfile-Syntax.html#Arguments" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Pairs" class="def">Pairs</a> = [(<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>, <a href="../base-4.8.2.0/Data-String.html#t:String">String</a>)] <a href="src/Language-Dockerfile-Syntax.html#Pairs" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Filename" class="def">Filename</a> = <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> <a href="src/Language-Dockerfile-Syntax.html#Filename" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Linenumber" class="def">Linenumber</a> = <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> <a href="src/Language-Dockerfile-Syntax.html#Linenumber" class="link">Source</a></p></div><h1 id="g:9">Re-exports from <code>parsec</code></h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:ParseError" class="def">ParseError</a> :: *</p><div class="doc"><p>The abstract data type <code>ParseError</code> represents parse errors. It
 provides the source position (<code><a href="../parsec-3.1.9/Text-Parsec-Pos.html#t:SourcePos">SourcePos</a></code>) of the error
 and a list of error messages (<code><a href="../parsec-3.1.9/Text-Parsec-Error.html#t:Message">Message</a></code>). A <code>ParseError</code>
 can be returned by the function <code><a href="../parsec-3.1.9/Text-Parsec-Prim.html#v:parse">parse</a></code>. <code>ParseError</code> is an
 instance of the <code><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a></code> and <code><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a></code> classes.</p></div><div class="subs instances"><p id="control.i:ParseError" class="caption collapser" onclick="toggleSection('i:ParseError')">Instances</p><div id="section.i:ParseError" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Language-Dockerfile.html#t:ParseError">ParseError</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Language-Dockerfile.html#t:ParseError">ParseError</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:10">Instruction and InstructionPos helpers</h1><div class="top"><p class="src"><a name="v:instruction" class="def">instruction</a> :: <a href="Language-Dockerfile.html#t:InstructionPos">InstructionPos</a> -&gt; <a href="Language-Dockerfile.html#t:Instruction">Instruction</a> <a href="src/Language-Dockerfile-Syntax.html#instruction" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:instructionPos" class="def">instructionPos</a> :: <a href="Language-Dockerfile.html#t:Instruction">Instruction</a> -&gt; <a href="Language-Dockerfile.html#t:InstructionPos">InstructionPos</a> <a href="src/Language-Dockerfile-EDSL.html#instructionPos" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:sourcename" class="def">sourcename</a> :: <a href="Language-Dockerfile.html#t:InstructionPos">InstructionPos</a> -&gt; <a href="Language-Dockerfile.html#t:Filename">Filename</a> <a href="src/Language-Dockerfile-Syntax.html#sourcename" class="link">Source</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>